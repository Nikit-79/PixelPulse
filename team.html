<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pixel Pulse - Our Team</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,380;1,380&display=swap" rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'rich-black': '#001219',  // Rich Black
              'oxford-blue': '#14213D', // Oxford Blue
              'chambray': '#1B4965',    // Chambray
              'silverlake': '#5FA8D3',  // Silverlake Blue
              'platinum': '#E5E5E5',    // Platinum
              'stardust': '#F8F9FA',    // Stardust White
              primary: '#1B4965',       // Using Chambray as primary
              secondary: '#5FA8D3',     // Using Silverlake as secondary
              darkBlue: '#001219',      // Using Rich Black
              textPrimary: '#14213D',   // Using Oxford Blue
              textSecondary: '#5FA8D3', // Using Silverlake
              bgLight: '#E5E5E5',       // Using Platinum
            },
            fontFamily: {
              josefin: ['Josefin Sans', 'sans-serif'],
            },
            animation: {
              'fade-in': 'fadeIn 1s ease-in',
              'slide-up': 'slideUp 0.5s ease-out',
              'bounce-slow': 'bounce 3s infinite',
              'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'gradient-x': 'gradient-x 15s ease infinite',
              'gradient-y': 'gradient-y 15s ease infinite',
              'gradient-xy': 'gradient-xy 15s ease infinite',
              'scale-up': 'scaleUp 0.5s ease-out',
              'float': 'float 6s ease-in-out infinite',
              'spin-slow': 'spin 8s linear infinite',
              'wiggle': 'wiggle 1s ease-in-out infinite',
              'glow': 'glow 2s ease-in-out infinite',
              'slide-in-left': 'slideInLeft 0.5s ease-out',
              'slide-in-right': 'slideInRight 0.5s ease-out',
              'rotate-center': 'rotateCenter 20s linear infinite',
              'scale-pulse': 'scalePulse 2s ease-in-out infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
              scaleUp: {
                '0%': { transform: 'scale(0.8)', opacity: '0' },
                '100%': { transform: 'scale(1)', opacity: '1' },
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              },
              wiggle: {
                '0%, 100%': { transform: 'rotate(-3deg)' },
                '50%': { transform: 'rotate(3deg)' },
              },
              glow: {
                '0%, 100%': { opacity: '1' },
                '50%': { opacity: '0.5', filter: 'brightness(150%)' },
              },
              slideInLeft: {
                '0%': { transform: 'translateX(-100%)', opacity: '0' },
                '100%': { transform: 'translateX(0)', opacity: '1' },
              },
              slideInRight: {
                '0%': { transform: 'translateX(100%)', opacity: '0' },
                '100%': { transform: 'translateX(0)', opacity: '1' },
              },
              rotateCenter: {
                '0%': { transform: 'rotate(0deg)' },
                '100%': { transform: 'rotate(360deg)' },
              },
              scalePulse: {
                '0%, 100%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(1.05)' },
              },
              'gradient-y': {
                '0%, 100%': {
                  'background-size': '400% 400%',
                  'background-position': 'center top'
                },
                '50%': {
                  'background-size': '200% 200%',
                  'background-position': 'center center'
                }
              },
              'gradient-x': {
                '0%, 100%': {
                  'background-size': '200% 200%',
                  'background-position': 'left center'
                },
                '50%': {
                  'background-size': '200% 200%',
                  'background-position': 'right center'
                }
              },
              'gradient-xy': {
                '0%, 100%': {
                  'background-size': '400% 400%',
                  'background-position': 'left center'
                },
                '50%': {
                  'background-size': '200% 200%',
                  'background-position': 'right center'
                }
              }
            },
          },
        },
      }
    </script>

    <!-- Supabase Client -->
    <script src="config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Icons -->
    <script defer src="https://friconix.com/cdn/friconix.js"></script>
  </head>

  <body class="bg-platinum font-josefin">
    <!-- Navbar -->
    <nav class="bg-oxford-blue sticky top-0 z-50 mx-1 my-2 rounded-full px-4 py-2">
      <div class="container mx-auto flex items-center justify-between">
        <a href="index.html" class="text-white text-2xl font-semibold">
          Pixel Pulse
        </a>

        <button
          class="lg:hidden text-white focus:outline-none"
          type="button"
          onclick="document.getElementById('navbarMenu').classList.toggle('hidden')"
        >
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <div id="navbarMenu" class="hidden lg:flex lg:items-center">
          <ul class="flex flex-col lg:flex-row space-y-2 lg:space-y-0 lg:space-x-6">
            <li>
              <a href="index.html" class="text-white hover:bg-white/10 px-4 py-2 rounded-full transition duration-300">Home</a>
            </li>
            <li>
              <a href="team.html" class="text-white hover:bg-white/10 px-4 py-2 rounded-full transition duration-300">Team</a>
            </li>
            <li>
              <a href="newsletters.html" class="text-white hover:bg-white/10 px-4 py-2 rounded-full transition duration-300">Newsletters</a>
            </li>
            <li>
              <a href="research.html" class="text-white hover:bg-white/10 px-4 py-2 rounded-full transition duration-300">Research</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mx-auto px-4 py-12">
      <!-- Team Section -->
      <section id="team" class="my-12">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-chambray mb-6 animate-fade-in">Our Team</h2>
          <p class="text-xl text-oxford-blue max-w-3xl mx-auto leading-relaxed animate-slide-up">
            Meet the passionate individuals behind Pixel Pulse. Our diverse team of students and young professionals brings together expertise in STEM research, journalism, design, and technology to create engaging and informative content.
          </p>
        </div>
        <div id="team-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Team members will be loaded here by JavaScript -->
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-oxford-blue text-white pt-16 pb-8">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
          <div>
            <h3 class="text-2xl font-bold mb-6">Pixel Pulse</h3>
            <p class="text-gray-300">Empowering youth through tech journalism and STEM research.</p>
          </div>
          
          <div>
            <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
            <ul class="space-y-2">
              <li><a href="index.html" class="hover:text-silverlake transition duration-300">Home</a></li>
              <li><a href="index.html#about" class="hover:text-silverlake transition duration-300">About Us</a></li>
              <li><a href="team.html" class="hover:text-silverlake transition duration-300">Our Team</a></li>
              <li><a href="newsletters.html" class="hover:text-silverlake transition duration-300">Newsletters</a></li>
              <li><a href="research.html" class="hover:text-silverlake transition duration-300">Research</a></li>
              <li><a href="admin.html" class="text-xs text-gray-400 hover:text-silverlake transition duration-300" target="_blank">Admin Login</a></li>
            </ul>
          </div>

          <div>
            <h3 class="text-xl font-semibold mb-4">Resources</h3>
            <ul class="space-y-2">
              <li><a href="newsletters.html#featured" class="hover:text-silverlake transition duration-300">Featured Newsletter</a></li>
              <li><a href="research.html#papers" class="hover:text-silverlake transition duration-300">Research Papers</a></li>
              <li><a href="https://linktr.ee/pixelpulsenews" target="_blank" class="hover:text-silverlake transition duration-300">Additional Resources</a></li>
            </ul>
          </div>

          <div>
            <h3 class="text-xl font-semibold mb-4">Contact Us</h3>
            <div class="space-y-4">
              <div class="flex space-x-4">
                <a href="https://linktr.ee/pixelpulsenews" target="_blank" class="hover:text-silverlake transition duration-300">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 1C12.5523 1 13 1.44772 13 2V7.58579L16.7929 3.79289C17.1834 3.40237 17.8166 3.40237 18.2071 3.79289C18.5976 4.18342 18.5976 4.81658 18.2071 5.20711L14.4142 9H20C20.5523 9 21 9.44771 21 10C21 10.5523 20.5523 11 20 11H14.4142L18.2071 14.7929C18.5976 15.1834 18.5976 15.8166 18.2071 16.2071C17.8166 16.5976 17.1834 16.5976 16.7929 16.2071L12 11.4142L7.20711 16.2071C6.81658 16.5976 6.18342 16.5976 5.79289 16.2071C5.40237 15.8166 5.40237 15.1834 5.79289 14.7929L9.58579 11H4C3.44772 11 3 10.5523 3 10C3 9.44771 3.44772 9 4 9H9.58579L5.79289 5.20711C5.40237 4.81658 5.40237 4.18342 5.79289 3.79289C6.18342 3.40237 6.81658 3.40237 7.20711 3.79289L11 7.58579V2C11 1.44772 11.4477 1 12 1Z"/>
                    <path d="M13 15C13 14.4477 12.5523 14 12 14C11.4477 14 11 14.4477 11 15V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V15Z"/>
                  </svg>
                </a>
                <a href="mailto:pixelpulsenewsletterr@gmail.com" class="hover:text-silverlake transition duration-300">
                  <i class="fi-xwsuxl-envelope-solid"></i>
                </a>
                <a href="https://www.instagram.com/pixelpulsenews/" target="_blank" class="hover:text-silverlake transition duration-300">
                  <i class="fi-xnsuxl-instagram"></i>
                </a>
              </div>
              <p class="text-gray-300">Connect with us on social media or drop us an email!</p>
            </div>
          </div>
        </div>

        <div class="border-t border-white/10 mt-12 pt-8 text-center">
          <p>&copy; 2025 Pixel Pulse. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Simple mobile menu toggle
      document.addEventListener('DOMContentLoaded', () => {
        const navbarMenu = document.getElementById('navbarMenu');
        const navbarToggle = document.querySelector('.navbar-toggler');
        
        if (navbarToggle) {
          navbarToggle.addEventListener('click', () => {
            navbarMenu.classList.toggle('hidden');
          });
        }

        // Close menu on window resize if open
        window.addEventListener('resize', () => {
          if (window.innerWidth >= 1024 && !navbarMenu.classList.contains('hidden')) {
            navbarMenu.classList.add('hidden');
          }
        });
      });

      // --- Supabase Team Loading ---
      const SUPABASE_URL_TEAM = window.SUPABASE_PROJECT_CONFIG?.url;
      const SUPABASE_ANON_KEY_TEAM = window.SUPABASE_PROJECT_CONFIG?.anonKey;
      let supabaseClientTeam = null;

      if (!SUPABASE_URL_TEAM || !SUPABASE_ANON_KEY_TEAM) {
          console.error('Error: Supabase config not found in team.html!');
      } else if (typeof supabase === 'undefined' || typeof supabase.createClient !== 'function') {
          console.error('Error: Supabase client library not loaded in team.html!');
      } else {
          supabaseClientTeam = supabase.createClient(SUPABASE_URL_TEAM, SUPABASE_ANON_KEY_TEAM);
          const teamGrid = document.getElementById('team-grid');

          async function loadTeamMembers() {
              if (!teamGrid) {
                   console.error("Team grid element not found.");
                   return;
              }
              if (!supabaseClientTeam) {
                  console.error("Supabase client for team not ready.");
                  teamGrid.innerHTML = '<p class="text-center text-red-600 col-span-full">Error: Database connection failed.</p>';
                  return;
              }
              console.log("loadTeamMembers called.");
              teamGrid.innerHTML = '<p class="text-center text-gray-600 col-span-full">Loading team members...</p>'; 

              try {
                  console.log("Fetching team members from Supabase...");
                  const { data: teamMembers, error } = await supabaseClientTeam
                      .from('team_members')
                      .select('*') 
                      .order('added_at', { ascending: true }); 

                  if (error) {
                      console.error('Supabase fetch error (team_members):', error);
                      teamGrid.innerHTML = '<p class="text-center text-red-600 col-span-full">Error loading team members.</p>';
                      return;
                  }
                  
                  console.log("Fetched team members:", teamMembers);

                  if (!teamMembers || teamMembers.length === 0) {
                      console.log("No team members found in database.");
                      teamGrid.innerHTML = '<p class="text-center text-gray-600 col-span-full">No team members found.</p>';
                      return;
                  }

                  teamGrid.innerHTML = ''; 

                  teamMembers.forEach((member, index) => {
                      const memberCard = `
                       <div class="bg-white rounded-xl shadow-lg p-6 transform hover:-translate-y-1 transition duration-300 flex flex-col items-center" > 
                            <img src="${member.image_url || 'placeholder.png'}" 
                                 alt="${member.name}" 
                                 class="w-32 h-32 rounded-full mb-4 object-cover border-4 border-platinum" 
                                 onerror="this.onerror=null;this.src='placeholder.png';" /> 
                            <h3 class="text-xl font-bold text-chambray mb-1 text-center">${member.name}</h3>
                            ${member.role ? `<p class="text-silverlake font-semibold mb-3 text-center text-sm">${member.role}</p>` : ''} 
                            ${member.description ? `<p class="text-oxford-blue text-sm text-center flex-grow">${member.description}</p>` : ''} 
                        </div>
                      `;
                      teamGrid.insertAdjacentHTML('beforeend', memberCard);
                  });

              } catch (fetchError) {
                  console.error('Exception fetching team members:', fetchError);
                  teamGrid.innerHTML = '<p class="text-center text-red-600 col-span-full">An unexpected error occurred while loading team members.</p>';
              }
          }

          document.addEventListener('DOMContentLoaded', loadTeamMembers);
      }
    </script>
  </body>
</html>
